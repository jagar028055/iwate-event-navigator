<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>岩手イベントナビゲーター</title>
  <script>
    // GitHub Pages SPA routing fallback
    // 404ページでも正しくSPAルーティングが動作するよう設定
    (function() {
      const path = window.location.pathname;
      const base = '/iwate-event-navigator/';
      
      // GitHub Pagesのベースパスを考慮してリダイレクト
      if (path.startsWith(base)) {
        const newPath = path.substring(base.length - 1);
        window.history.replaceState(null, null, base + '#' + newPath);
      } else {
        window.history.replaceState(null, null, base);
      }
      
      // ページロード完了後にルーティングを復元
      window.addEventListener('load', function() {
        if (window.location.hash) {
          const route = window.location.hash.substring(1);
          window.history.replaceState(null, null, base + route);
        }
      });
    })();
  </script>
</head>
<body>
  <div id="root">
    <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif;">
      <div style="text-align: center;">
        <h1>岩手イベントナビゲーター</h1>
        <p>読み込み中...</p>
      </div>
    </div>
  </div>
  
  <!-- GitHub Pages環境での動的スクリプト読み込み -->
  <script>
    // ビルド後のindex.htmlから適切なスクリプトを読み込み
    const script = document.createElement('script');
    script.type = 'module';
    script.src = '/iwate-event-navigator/assets/index.js';
    script.onerror = function() {
      // フォールバック: 代替パスでの読み込み試行
      const fallbackScript = document.createElement('script');
      fallbackScript.type = 'module';
      fallbackScript.src = '/iwate-event-navigator/index.js';
      document.head.appendChild(fallbackScript);
    };
    document.head.appendChild(script);
    
    // CSSファイルも同様に読み込み
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = '/iwate-event-navigator/assets/index.css';
    document.head.appendChild(link);
  </script>
</body>
</html>