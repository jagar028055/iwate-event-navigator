# イベント収集システム再設計ドキュメント

本フォルダは、Gemini依存からの脱却と一次情報中心のハイブリッドETLへの移行計画をまとめたものです。

## 構成
- 01_提案レポート_ハイブリッドETL.md: 批判的レビューと移行方針、KPI/リスク/工数。
- 02_要件定義書.md: 機能/非機能/運用/受入基準の明確化。
- 03_システム仕様書.md: アーキテクチャ、データモデル、IF、運用設計。
- 04_機能設計書.md: ユースケース、画面/API、フロー、品質ゲート。
- 05_情報源リスト_岩手.md: 収集候補の優先順位と`sources.yaml`ドラフト（実配置・スキーマは下記参照）。

## 使い方
1. 05の候補から初期10〜15ソースを選定し、実URL/ルールを確認。
2. `services/eventCollector/config/sources.yaml` に登録（フィールドは `docs/event-collection-redesign/sources.schema.yaml` を参照）。
3. フェッチ/パースのPoCを実行し、スナップショット/RunLogをローカルに永続化。
4. 02/03/04の要件・仕様・機能に沿って最小構成を実装し、KPIを計測。

## 次の一手（推奨）
- PoC: RSS/ICS/APIのみで1週間運用し、網羅性/新鮮度/KPIを評価（`var/snapshots/`・`var/runlogs/`に保存）。
- 合格後、HTMLアダプタ→難所サイト→LLM補助→管理UIの順に拡張。

## 補足：sources.yaml の検証
- 変更時は次コマンドでスキーマ検証を実行してください。
  - `npm run validate:sources`
